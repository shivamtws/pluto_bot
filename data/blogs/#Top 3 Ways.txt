Top 3 Ways to Identify Root Cause of Poor Performance Issues in Your Citrix or VMware Horizon Deployment

By Theresa Miller, Citrix CTP, VMware vExpert Enterprise troubleshooting is not an easy task with many enterprises.  Administrators are typically left maintaining many different solutions, attempting to evaluate root cause manually, or are left with solutions that do not give broad visibility into all aspects of the deployed Citrix or VMware Horizon deployment.  This can leave systems down for longer than necessary and can leave administrators in a tough spot.  We covered some of these pain points previously and can be found here.  As we unravel this topic further, let’s look at my top 3 virtualization troubleshooting scenarios that could have simply been resolved with the right purpose-built tools.  Then let’s look at how 3 of the new features in Goliath Performance Monitor 11.8 could have ensured quick identification of the problem and helped resolve the technology issue by finding root cause easily. If only there were a way Using the wrong tools or a very manual approach can leave users stranded without the ability to do their jobs while support teams spend hours or days troubleshooting and working toward resolving issues.  The more complex the deployment the more challenging this can be to fix the issue.  It seems that most enterprises will spend large amounts of money on a deployment, but often try to cover monitoring by using native toolsets, scripted options, or even manual approaches.  Making it challenging to quickly resolve issues and work quickly to identify root cause.  Let’s take a closer look 3 of my top troubleshooting challenges from my experiences. Troubleshooting Challenge 1: New EHR Deployment or Upgrade Goes Live and within an Hour Performance Significantly Degrades In a healthcare environment a new EHR deployments goes live, and within an hour of the new system being online the environment quickly went from performing to only a subset of users being able to function while the rest of the environment degraded quickly.  It started with multiple user calls to the service desk.  This deployment didn’t have a single, comprehensive monitoring solution in place.  After leveraging the tools available, and some manual diagnosis multiple support calls were opened. Root cause:

Memory leak in the EHR application Bug that a patch was created for within the virtualization platform software that was creating a limitation in the number of users that could connect to the backend host

Despite all the load testing and prep that went into this environment in advance, there were still issues uncovered that could not be seen without real load and without the right monitoring tool to oversee the entire environment.  So how could a purpose-built monitoring tool have helped in this scenario?  See Figure 1 below:

Figure 1 – Demonstrates visual insights; with Goliath 11.8, into the user experience with detail that allows for quick identification of compute issues that could have more led to expedited identification of the issues.

Troubleshooting Challenge 2: Remote Workers Struggling to Logon In a financial environment external access to the virtualization environment was primarily used for the rare cases that users needed to work remote.  For example, a snow day.  Users that accessed the system earlier in the morning could access the system fine, but those coming in later in the morning are being denied by the access gateway.  The support desk starts getting calls, and upon further analysis root cause was identified:

Not enough user connection licenses

To resolve, an expedited license purchase was procured.  Let’s take a look at how with the right tool this could have been identified and resolved quickly.  See Figure 2 and Figure 3 below:

Figure 2 – Demonstrates visual insights into the overall performance of the users previously connected in Goliath 11.8 which clearly shows us the system is functioning well and the server health is not creating a bottle-neck.

Figure 3 – Demonstrates visual information into the available license count. Troubleshooting Challenge 3: User is Having Application Issues and Opens a Ticket Saying Citrix is Slow. In a technology company a user calls in and states that Citrix is slow.  It is up to the support desk to dive in more closely, because the support person knows that Citrix as an application isn’t the problem at all.  After doing some shadowing of the user it was identified that their remote desktop is performing slowly.  From here, the call needs to be escalated, because administrative permissions to dive deeper are needed.  In this environment all troubleshooting is manual and tools are being researched, but when all is said and done the root cause is:

The server the desktop is running on is low on resources, so it must be removed from production so that user can reconnect their desktop session on a new server.

With the process being manual, this took the better part of an hour to resolve when it could have been minutes.  The same process would apply if it was a VMware Horizon instance. Let’s take a closer look at Figure 4 below.

Figure 4 – Demonstrates how in session performance can be quickly evaluated with Goliath 11.8 to determine which server the user is connected to and identify the root cause of the server slowness issue.

Concluding Thoughts Troubleshooting your Citrix or VMware Horizon environment shouldn’t be difficult or time consuming.  With the right purpose-built tools leveraging analytics of your environment will not only help you quickly identify tough issues quickly it can lead to more proactive technical work that can eliminate issues before the user calls. With the right metrics and increased visibility not only will you be better equipped to anticipate, troubleshoot and prevent end-user issues from occurring, but you will be able to foster data-driven conversations across your entire IT debarment, with other vendors as well as internal stakeholders. Click here to learn more about all the features included in Goliath’s latest product release.